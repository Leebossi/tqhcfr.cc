<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="public/apple-touch-icon.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="public/favicon-32x32.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="public/favicon-16x16.png"
    />
    <link rel="manifest" href="public/site.webmanifest" />
    <link rel="stylesheet" href="styles/index.css" />
    <script src="js/i18n.js" defer></script>
    <script src="js/index.js" defer></script>
    <script src="js/calculator.js" defer></script>
    <title>TQHCFR.cc · Calculator</title>
  </head>
  <body>
    <header class="nav">
      <div class="container cluster nav__inner" style="justify-content: space-between">
        <a class="nav__brand" href="/">
          <img src="public/tqhcfr_small.png" alt="TQHCFR" />
        </a>
        <button class="nav__toggle" type="button" aria-expanded="false" aria-controls="siteNav">
          <span class="nav__toggle-bars" aria-hidden="true"></span>
          <span class="sr-only">Menu</span>
        </button>
        <nav class="nav__links cluster" id="siteNav">
          <a href="/" data-i18n="nav.home">Home</a>
          <a href="/events" data-i18n="nav.events">Events</a>
          <a href="/stickers" data-i18n="nav.stickers">Stickers</a>
          <button class="btn btn-ghost nav__lang" id="langToggle" type="button">FI</button>
        </nav>
      </div>
    </header>
    <main class="section">
      <div class="container stack calculator">
        <div class="stack">
          <h1 data-i18n="calculator.title">Fixed Gear Ratio Calculator</h1>
        </div>

        <section class="surface card">
          <div class="form-grid">
            <label class="stack" style="gap: var(--space-2)">
              <span data-i18n="calculator.rim">Rim diameter (mm)</span>
              <input
                class="input"
                id="wheelDiameter"
                type="number"
                min="300"
                step="1"
                value="622"
              />
            </label>
            <label class="stack" style="gap: var(--space-2)">
              <span data-i18n="calculator.tire">Tire size (mm)</span>
              <input
                class="input"
                id="tireSize"
                type="number"
                min="10"
                step="1"
                value="28"
              />
            </label>
            <label class="stack" style="gap: var(--space-2)">
              <span data-i18n="calculator.crank">Crank length (mm)</span>
              <div class="custom-select" data-select="crankLength">
                <input type="hidden" id="crankLength" value="170" />
                <button
                  class="input custom-select__trigger"
                  type="button"
                  aria-haspopup="listbox"
                  aria-expanded="false"
                >
                  <span class="custom-select__value">170</span>
                  <span class="custom-select__caret" aria-hidden="true"></span>
                </button>
                <div class="custom-select__menu" role="listbox">
                  <button
                    class="custom-select__option"
                    type="button"
                    data-value="175"
                  >
                    175
                  </button>
                  <button
                    class="custom-select__option"
                    type="button"
                    data-value="172.5"
                  >
                    172.5
                  </button>
                  <button
                    class="custom-select__option"
                    type="button"
                    data-value="170"
                  >
                    170
                  </button>
                  <button
                    class="custom-select__option"
                    type="button"
                    data-value="167.5"
                  >
                    167.5
                  </button>
                  <button
                    class="custom-select__option"
                    type="button"
                    data-value="165"
                  >
                    165
                  </button>
                  <button
                    class="custom-select__option"
                    type="button"
                    data-value="162.5"
                  >
                    162.5
                  </button>
                  <button
                    class="custom-select__option"
                    type="button"
                    data-value="160"
                  >
                    160
                  </button>
                  <button
                    class="custom-select__option"
                    type="button"
                    data-value="157.5"
                  >
                    157.5
                  </button>
                  <button
                    class="custom-select__option"
                    type="button"
                    data-value="155"
                  >
                    155
                  </button>
                  <button
                    class="custom-select__option"
                    type="button"
                    data-value="152.5"
                  >
                    152.5
                  </button>
                  <button
                    class="custom-select__option"
                    type="button"
                    data-value="150"
                  >
                    150
                  </button>
                  <button
                    class="custom-select__option"
                    type="button"
                    data-value="147.5"
                  >
                    147.5
                  </button>
                  <button
                    class="custom-select__option"
                    type="button"
                    data-value="145"
                  >
                    145
                  </button>
                  <button
                    class="custom-select__option"
                    type="button"
                    data-value="142.5"
                  >
                    142.5
                  </button>
                  <button
                    class="custom-select__option"
                    type="button"
                    data-value="140"
                  >
                    140
                  </button>
                </div>
              </div>
            </label>
            <label class="stack" style="gap: var(--space-2)">
              <span data-i18n="calculator.front">Front chainring teeth</span>
              <input
                class="input"
                id="frontTeeth"
                type="number"
                min="20"
                step="1"
                value="48"
              />
            </label>
            <label class="stack" style="gap: var(--space-2)">
              <span data-i18n="calculator.rear">Rear sprocket teeth</span>
              <input
                class="input"
                id="rearTeeth"
                type="number"
                min="10"
                step="1"
                value="16"
              />
            </label>
          </div>
        </section>

        <section class="surface card">
          <h2 data-i18n="calculator.gearing.title">Gearing</h2>
          <div class="results-grid">
            <div class="result stack">
              <span class="eyebrow" data-i18n="calculator.gearInches">Gear inches</span>
              <strong id="gearInches">—</strong>
            </div>
            <div class="result stack">
              <span class="eyebrow" data-i18n="calculator.meterDev">Meter development</span>
              <strong id="meterDev">—</strong>
            </div>
            <div class="result stack">
              <span class="eyebrow" data-i18n="calculator.gainRatio">Gain ratio</span>
              <strong id="gainRatio">—</strong>
            </div>
            <div class="result stack">
              <span class="eyebrow" data-i18n="calculator.gearRatio">Gear ratio</span>
              <strong id="gearRatio">—</strong>
            </div>
          </div>
        </section>

        <section class="surface card">
          <div class="skid-visual">
            <div class="stack">
              <h2 data-i18n="calculator.skid.title">Skid patches</h2>
              <p data-i18n="calculator.skid.body">
                Rear wheel skid patches based on your chainring and sprocket.
              </p>
              <label class="checkbox">
                <input id="skidAmbi" type="checkbox" />
                <span class="checkbox__box" aria-hidden="true"></span>
                <span data-i18n="calculator.skid.ambi">Ambidextrous skids (both feet)</span>
              </label>
              <div class="result stack">
                <span class="eyebrow" data-i18n="calculator.skid.count">Skid patches</span>
                <strong id="skidCount">—</strong>
              </div>
            </div>
            <svg
              id="skidSvg"
              class="skid-wheel"
              viewBox="0 0 200 200"
              role="img"
              aria-label="Rear wheel skid patch visualization"
            >
              <circle cx="100" cy="100" r="86" class="skid-tyre" />
              <circle cx="100" cy="100" r="76" class="skid-rim" />
              <circle cx="100" cy="100" r="5" class="skid-hub" />
              <g id="skidSpokes"></g>
              <g id="skidPatches"></g>
            </svg>
          </div>
        </section>

        <section class="surface card">
          <div class="stack">
            <h2 data-i18n="calculator.cadence.title">Cadence / Speed</h2>
            <div class="table-wrap">
              <table class="table" aria-label="Cadence to speed table">
                <thead>
                  <tr>
                    <th data-i18n="calculator.cadence.rpm">Cadence (rpm)</th>
                    <th data-i18n="calculator.cadence.kph">Speed (km/h)</th>
                    <!-- <th>Speed (mph)</th> -->
                  </tr>
                </thead>
                <tbody id="cadenceTable"></tbody>
              </table>
            </div>
          </div>
        </section>
      </div>
    </main>
  </body>
</html>
